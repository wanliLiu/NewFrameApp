/**
 * Shared file between builds so that they can all use the same dependencies and
 * maven repositories.
 **/
ext.deps = [:]

def versions = [:]
versions.android_gradle_plugin = '7.1.2'
versions.kotlin = "1.6.20"
versions.support = "29.0.3"//28.0.0-alpha3
versions.multidex = "1.0.3"
versions.constraint_layout = "1.+"
versions.rxjava3 = "3.+"
versions.rx_android = "3.+"
versions.rxBinding = "4.+"
versions.rxLifeCycle = "4.+"
versions.retrofit = "2.+"
versions.event_bus = "3.+"
versions.okhttp = "4.+"
versions.gson = "2.+"
versions.fastjson = "1.+"
versions.fresco = "2.+"
versions.stetho = "1.5.0"
versions.scaleImageView = "3.+"
versions.nine_old = "2.4.0"
versions.mterialprogress = "1.7"
versions.flexbox = "1.0.0" //1.1.0 for androidX
//Arouter
versions.arouter_compiler = "1.+"
versions.arouter_api = "1.+"

versions.skin_support = "1.+"

versions.cordova = "1.+"
versions.fragmentation = "1.0.2"
versions.jsoup = "1.+"


def deps = [:]

def support = [:]
support.app_compat = 'androidx.appcompat:appcompat:1.+'
support.percent = "com.android.support:percent:$versions.support"
support.recyclerview = 'androidx.recyclerview:recyclerview:1.+'
support.recyclerview_snaphelper = 'com.github.rubensousa:gravitysnaphelper:2.+'
support.cardview = 'androidx.cardview:cardview:1.+'
support.design = 'com.google.android.material:material:1.+'
support.gridlayout = "com.android.support:gridlayout-v7:$versions.support"
support.media = "com.android.support:support-media-compat:$versions.support"
support.multidex = 'androidx.multidex:multidex:2.+'
support.vector = 'androidx.vectordrawable:vectordrawable:1.+'
support.animate_vector = 'androidx.vectordrawable:vectordrawable-animated:1.+'
support.palette = 'androidx.palette:palette:1.+'
deps.support = support


def retrofit = [:]
retrofit.runtime = "com.squareup.retrofit2:retrofit:$versions.retrofit"
retrofit.adapter = "com.squareup.retrofit2:adapter-rxjava3:$versions.retrofi"
retrofit.gson = "com.squareup.retrofit2:converter-gson:$versions.retrofit"
retrofit.leakcanary = "com.squareup.leakcanary:leakcanary-android:2.+"
deps.retrofit = retrofit


def kotlin = [:]
kotlin.stdlib = "org.jetbrains.kotlin:kotlin-stdlib:$versions.kotlin"
kotlin.reflect = "org.jetbrains.kotlin:kotlin-reflect:$versions.kotlin"
kotlin.test = "org.jetbrains.kotlin:kotlin-test-junit:$versions.kotlin"
kotlin.plugin = "org.jetbrains.kotlin:kotlin-gradle-plugin:$versions.kotlin"
kotlin.coroutines_core = 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.+'
kotlin.coroutines_android = 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.+'
deps.kotlin = kotlin

//view
deps.constraint_layout = 'androidx.constraintlayout:constraintlayout:2.+'
deps.corektx = 'androidx.core:core-ktx:1.+'
deps.fragmentktx = 'androidx.fragment:fragment-ktx:1.+'

deps.android_gradle_plugin = "com.android.tools.build:gradle:$versions.android_gradle_plugin"
//rxjava
deps.rxjava3 = "io.reactivex.rxjava3:rxjava:$versions.rxjava3"
deps.rx_android = "io.reactivex.rxjava3:rxandroid:$versions.rx_android"
//RxBinding
deps.rxbinding = "com.jakewharton.rxbinding4:rxbinding:$versions.rxBinding"
deps.rxbindingAppCompat = "com.jakewharton.rxbinding4:rxbinding-appcompat:$versions.rxBinding"
deps.rxbindingReycyle = "com.jakewharton.rxbinding4:rxbinding-recyclerview:$versions.rxBinding"
//Rxlife
//deps.rxlifecycle = "com.trello.rxlifecycle4:rxlifecycle:$versions.rxLifeCycle"
deps.rxlifecycleAndroid = "com.trello.rxlifecycle4:rxlifecycle-android:$versions.rxLifeCycle"
deps.rxlifecycle_kotlin = "com.trello.rxlifecycle4:rxlifecycle-kotlin:$versions.rxLifeCycle"
deps.rxlifecycleAndroid_kotlin = "com.trello.rxlifecycle4:rxlifecycle-android-lifecycle-kotlin:$versions.rxLifeCycle"
deps.rxlifecycleComponents = "com.trello.rxlifecycle4:rxlifecycle-components:$versions.rxLifeCycle"
deps.rxlifecycle = 'com.dhh:rxlifecycle2:1.5'

//okhttp
deps.loggingInterceptor = "com.squareup.okhttp3:logging-interceptor:$versions.okhttp"
deps.okhttp = "com.squareup.okhttp3:okhttp:$versions.okhttp"
deps.okhttp_mockwebserver = "com.squareup.okhttp3:mockwebserver:$versions.okhttp"

//fresco
deps.fresco = "com.facebook.fresco:fresco:$versions.fresco"
// For animated GIF support
deps.animatedgif = "com.facebook.fresco:animated-gif:$versions.fresco"
// For WebP support including animated WebP
deps.animatedwebp = "com.facebook.fresco:animated-webp:$versions.fresco"
deps.webpsupport = "com.facebook.fresco:webpsupport:$versions.fresco"
//network use okhttp3
deps.frescoOkhttp = "com.facebook.fresco:imagepipeline-okhttp3:$versions.fresco"

deps.subsamplingScaleImage = "com.davemorrissey.labs:subsampling-scale-image-view:$versions.scaleImageView"
deps.nineoldandroids = "com.nineoldandroids:library:$versions.nine_old"
//stetho
deps.stetho = "com.facebook.stetho:stetho:$versions.stetho"
deps.stethoOkhttp3 = "com.facebook.stetho:stetho-okhttp3:$versions.stetho"

//other
deps.event_bus = "org.greenrobot:eventbus:$versions.event_bus"
deps.gson = "com.google.code.gson:gson:$versions.gson"
deps.jsoup = "org.jsoup:jsoup:$versions.jsoup"
//deps.fastjson = "com.alibaba:fastjson:$versions.fastjson"
deps.fastjson = "com.alibaba:fastjson:1.1.71.android"
deps.arouter_api = "com.alibaba:arouter-api:$versions.arouter_api"
deps.arouter_compiler = "com.alibaba:arouter-compiler:$versions.arouter_compiler"
deps.materialishPro = "com.pnikosis:materialish-progress:$versions.mterialprogress"
deps.flexbox = "com.google.android:flexbox:$versions.flexbox"
deps.rxpermissions = "com.soli.lib:rxpermissions:latest.release"
deps.boost_multidex = 'com.bytedance.boost_multidex:boost_multidex:1.0.1'
deps.pullupdown = 'com.soli.refresh:pull_up_down:1.0.1'
deps.nineOld = 'com.nineoldandroids:library:2.4.0'
deps.silder = 'com.r0adkll:slidableactivity:2.0.6'
deps.swipelayout = "com.daimajia.swipelayout:library:1.2.0"
//---------------------------------------------和业务相关的第三方东西，比如友盟 统计，支付，登录啥的  放到下面

deps.nimSDklib = 'com.netease.nimlib:basesdk:5.7.0'

//fragmentation  单Activity + 多Fragment框架
//https://github.com/YoKeyword/Fragmentation
deps.fragmentationx = "me.yokeyword:fragmentationx:$versions.fragmentation"
deps.fragmentationx_core = "me.yokeyword:fragmentationx-core:$versions.fragmentation"
deps.fragmentationx_swipeback = "me.yokeyword:fragmentationx-swipeback:$versions.fragmentation"
deps.fragmentationx_eventbus = "me.yokeyword:eventbus-activity-scope:1.1.0"

//skin support
deps.skin_support = "skin.android.support:skin-support:$versions.skin_support"
deps.skin_support_appcompat = "skin.android.support:skin-support-appcompat:$versions.skin_support"
deps.skin_support_cardview = "skin.android.support:skin-support-cardview:$versions.skin_support"
deps.skin_support_constraint_layout = "skin.android.support:skin-support-constraint-layout:$versions.skin_support"
deps.skin_support_design = "skin.android.support:skin-support-design:$versions.skin_support"

//cordova
deps.cordova = "org.apache:cordova:$versions.cordova"

//FlycoTabLayout_Lib
deps.flycoTab = "com.taihe.tablayout:flycotablayout:2.+"

deps.toolargetool = "com.gu.android:toolargetool:0.2.1@aar"

deps.svga = 'com.github.yyued:SVGAPlayer-Android:2.5.11'

ext.deps = deps

//编译版本
def build_versions = [:]
build_versions.min_sdk = 21
build_versions.target_sdk = 33
build_versions.build_tools = "33.0.2"
ext.build_versions = build_versions
//运用版本
def app_versions = [:]
app_versions.versionName = appVersion
app_versions.versionCode = appVersionCode.toInteger()
ext.app_versions = app_versions


def addRepos(RepositoryHandler handler) {
    handler.mavenCentral()
    handler.jcenter()
    handler.google()
    handler.maven { url 'https://jitpack.io' }

    //Add the JitPack repository
//    handler.maven { url 'http://10.20.120.200:8081/nexus/content/repositories/taiheRepo/' }

    handler.maven { url 'https://dl.bintray.com/guardian/android' }

//    handler.maven { url "http://10.20.120.200:8081/nexus/content/repositories/taiheRepo/" }
//    String storageUrl = System.env.FLUTTER_STORAGE_BASE_URL ?: "https://storage.googleapis.com"
//    handler.maven {url storageUrl + '/download.flutter.io'}

    handler.flatDir { dirs project(':lib_common').file('libs') }
}

ext.addRepos = this.&addRepos
